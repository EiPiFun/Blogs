# socks proxy also works

# Dockerd level:

sudo mkdir -p /etc/systemd/system/docker.service.d/
sudo vi /etc/systemd/system/docker.service.d/http_proxy.conf

```
[Service]
Environment="HTTP_PROXY=http://proxy.example.com:3128"
Environment="HTTPS_PROXY=https://proxy.example.com:3129"
Environment="NO_PROXY=localhost,127.0.0.1"
```

# Restart docker

sudo systemctl daemon-reload
sudo systemctl restart docker

# Check

systemctl show --property=Environment docker

# Container level

vi ~/.docker/config.json

```
{
  "proxies": {
    "httpProxy": "http://proxy.example.com:3128",
    "httpsProxy": "https://proxy.example.com:3129",
    "noProxy": "localhost,127.0.0.1"  }
}
```

